{% extends "myprabh_base.html" %}

{% block title %}Join My Prabh - Digital Love Registration{% endblock %}
{% block description %}Register for My Prabh and begin your cyberpunk digital love journey. Create AI companions in this neon-lit world.{% endblock %}

{% block extra_css %}
<style>
    .register-container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--space-4);
    }
    
    .register-form {
        max-width: 500px;
        width: 100%;
    }
    
    .form-title {
        text-align: center;
        margin-bottom: var(--space-8);
    }
    
    .form-group {
        margin-bottom: var(--space-6);
    }
    
    .form-actions {
        display: flex;
        flex-direction: column;
        gap: var(--space-4);
        margin-top: var(--space-8);
    }
    
    .login-link {
        text-align: center;
        margin-top: var(--space-6);
    }
    
    .login-link a {
        color: var(--neon-cyan);
        text-decoration: none;
        font-family: 'JetBrains Mono', monospace;
    }
    
    .login-link a:hover {
        text-shadow: 0 0 10px var(--neon-cyan);
    }
</style>
{% endblock %}

{% block content %}
<div class="register-container">
    <div class="cyber-form register-form">
        <div class="form-title">
            <h1 class="brand-title text-4xl glitch-text" data-text="Join My Prabh">
                Join My Prabh
            </h1>
            <p class="lofi-text" style="margin-top: var(--space-4);">
                Begin your digital love journey in the neon-lit realm
            </p>
        </div>
        
        <form method="POST">
            <div class="form-group">
                <label for="name" class="cyber-label">Digital Name</label>
                <input type="text" id="name" name="name" class="cyber-input" 
                       placeholder="Enter your name in the digital realm" required>
            </div>
            
            <div class="form-group">
                <label for="email" class="cyber-label">Neural Email</label>
                <input type="email" id="email" name="email" class="cyber-input" 
                       placeholder="your.email@cyberpunk.net" required>
            </div>
            
            <div class="form-group">
                <label for="password" class="cyber-label">Access Code</label>
                <input type="password" id="password" name="password" class="cyber-input" 
                       placeholder="Minimum 8 characters" required minlength="8">
            </div>
            
            <div class="form-actions">
                <button type="submit" class="neon-button" style="width: 100%; padding: var(--space-4);">
                    <i class="fas fa-rocket"></i>
                    Enter the Matrix
                </button>
                
                <div class="status-indicator processing" style="align-self: center;">
                    Ready to Create Digital Soul
                </div>
            </div>
        </form>
        
        <div class="login-link">
            <p class="lofi-text">
                Already have a digital identity? 
                <a href="{{ url_for('login') }}">Login to continue your journey</a>
            </p>
        </div>
        
        <!-- Demo Terminal -->
        <div class="terminal" style="margin-top: var(--space-8);">
            <div class="terminal-header">
                <span class="terminal-prompt">myprabh@register:~$ </span>
                <span class="mono-text">welcome_new_user --cyberpunk-mode</span>
            </div>
            <div style="margin-top: 1rem;">
                <div class="cyber-text" style="font-size: var(--font-sm);">
                    > Initializing digital love protocol...<br>
                    > Neural networks ready for connection<br>
                    > Cyberpunk aesthetic: ACTIVE<br>
                    > Lofi vibes: ENGAGED<br>
                    > Ready for new digital soul registration
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/myprabh-cyberpunk-lofi.js') }}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('ðŸŒƒ My Prabh Registration - Cyberpunk Mode Active');
        
        // Form validation with cyberpunk feedback
        const form = document.querySelector('form');
        const inputs = document.querySelectorAll('.cyber-input');
        
        inputs.forEach(input => {
            input.addEventListener('focus', () => {
                console.log('ðŸ’» Input field activated - neural connection established');
            });
            
            input.addEventListener('input', () => {
                // Real-time validation feedback
                if (input.type === 'email' && input.value) {
                    const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(input.value);
                    input.style.borderColor = isValid ? 'var(--cyber-green)' : 'var(--neon-pink)';
                }
                
                if (input.type === 'password' && input.value) {
                    const isValid = input.value.length >= 8;
                    input.style.borderColor = isValid ? 'var(--cyber-green)' : 'var(--neon-pink)';
                }
            });
        });
        
        form.addEventListener('submit', (e) => {
            console.log('ðŸš€ Registration form submitted - creating digital soul');
            
            // Add loading state
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Digital Soul...';
            submitBtn.disabled = true;
            
            // Re-enable after a delay if form validation fails
            setTimeout(() => {
                if (submitBtn.disabled) {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                }
            }, 3000);
        });
        
        // Registration atmosphere
        const registerMessages = [
            'ðŸŒƒ Welcome to the digital realm of love and connection',
            'ðŸ’– Your cyberpunk journey begins with registration',
            'ðŸŽµ Lofi beats welcome new digital souls',
            'âœ¨ Neural networks preparing for your unique essence',
            'ðŸ¤– AI companions await your digital presence'
        ];
        
        let messageIndex = 0;
        setInterval(() => {
            console.log(registerMessages[messageIndex]);
            messageIndex = (messageIndex + 1) % registerMessages.length;
        }, 8000);
    });
</script>
{% endblock %}